---
- hosts: pi
  become: true
  gather_facts: false

  vars_files:
    - config.yml

  pre_tasks:
    - name: verify git installation.
      package: name=git state=present
  #- name: OS Hardening devsec
#  become: yes
#  collections:
#    - devsec.hardening
#  roles:
#    - os_hardening
#    - ssh_hardening
  tasks:
    - name: hardening
      become: yes
      import_tasks: playbooks/hardening.yml
    - name: usbc gadget setup
      become: yes
      import_tasks: playbooks/usbc-gadget.yml
